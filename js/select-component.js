class t extends HTMLElement{constructor(){super();this.handleBlur=()=>{this.validate()};this.handleInput=this.clearError.bind(this);this.select=this.querySelector("select"),this.textEl=this.querySelector("p");const e=document.createElement("p");e.className="error",e.style.display="none",this.insertBefore(e,this.select),this.errorEl=e}validate(){let e=!0;return this.select.required?this.select.value===""?(e=!1,this.getAttribute("state")!=="invalid"&&this.reportError("This field is required.")):this.clearError():this.clearError(),e}reportError(e){this.errorEl.innerHTML=e,this.errorEl.style.display="block",this.textEl&&(this.textEl.style.display="none"),this.setAttribute("state","invalid")}clearError(){this.errorEl.style.display="none",this.textEl&&(this.textEl.style.display="block"),this.setAttribute("state","valid")}connectedCallback(){this.select.addEventListener("change",this.handleInput),this.select.addEventListener("blur",this.handleBlur)}}export{t as default};
