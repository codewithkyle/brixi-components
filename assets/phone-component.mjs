export default class t extends HTMLElement{constructor(){super(),this.handleBlur=()=>{this.validate()},this.handleInput=this.clearError.bind(this),this.handleFocus=()=>{this.input.value.length&&(this.input.value=this.input.value.replace(/[\-\+\s\(\)]/g,""))},this.input=this.querySelector("input"),this.textEl=this.querySelector("p");const t=document.createElement("p");t.className="error",t.style.display="none",this.insertBefore(t,this.input),this.errorEl=t}
/**
     * Formats phone number string (US)
     * @see https://stackoverflow.com/a/8358141
     * @license https://creativecommons.org/licenses/by-sa/4.0/
     */formatPhoneNumber(t){var e=(""+t).replace(/\D/g,"").match(/^(1|)?(\d{3})(\d{3})(\d{4})$/);return e?[e[1]?"+1 ":"","(",e[2],") ",e[3],"-",e[4]].join(""):null}validate(){let t=!0;if(this.input.required)if(""===this.input.value)t=!1,"invalid"!==this.getAttribute("state")&&this.reportError("This field is required.");else{const e=this.formatPhoneNumber(this.input.value);e?(this.input.value=e,this.clearError()):(t=!1,"invalid"!==this.getAttribute("state")&&this.reportError("Provide a valid US phone number."))}else this.clearError();return t}reportError(t){this.errorEl.innerHTML=t,this.errorEl.style.display="block",this.textEl&&(this.textEl.style.display="none"),this.setAttribute("state","invalid")}clearError(){this.errorEl.style.display="none",this.textEl&&(this.textEl.style.display="block"),this.setAttribute("state","valid")}connectedCallback(){this.input.addEventListener("input",this.handleInput),this.input.addEventListener("blur",this.handleBlur),this.input.addEventListener("focus",this.handleFocus)}}