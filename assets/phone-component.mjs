export default class t extends HTMLElement{constructor(){super(),this.handleBlur=()=>{this.validateInput()},this.handleInput=()=>{this.setAttribute("state","valid"),this.input.setCustomValidity("")},this.handleFocus=()=>{this.input.value.length&&(this.input.value=this.input.value.replace(/[\-\+\s\(\)]/g,""))},this.input=this.querySelector("input")}validateInput(){if(this.input.required)if(""===this.input.value)"invalid"!==this.getAttribute("state")&&this.input.reportValidity(),this.setAttribute("state","invalid");else{const t=this.formatPhoneNumber(this.input.value);t?(this.input.value=t,this.setAttribute("state","valid"),this.input.setCustomValidity("")):("invalid"!==this.getAttribute("state")&&(this.input.setCustomValidity("Provide a valid US phone number."),this.input.reportValidity()),this.setAttribute("state","invalid"))}else this.setAttribute("state","valid"),this.input.setCustomValidity("")}
/**
     * Formats phone number string (US)
     * @see https://stackoverflow.com/a/8358141
     * @license https://creativecommons.org/licenses/by-sa/4.0/
     */formatPhoneNumber(t){var i=(""+t).replace(/\D/g,"").match(/^(1|)?(\d{3})(\d{3})(\d{4})$/);return i?[i[1]?"+1 ":"","(",i[2],") ",i[3],"-",i[4]].join(""):null}reportError(t){this.input.setCustomValidity(t),this.input.reportValidity(),this.setAttribute("state","invalid")}clearError(){this.input.setCustomValidity(""),this.setAttribute("state","valid")}connectedCallback(){this.input.addEventListener("input",this.handleInput),this.input.addEventListener("blur",this.handleBlur),this.input.addEventListener("focus",this.handleFocus)}}